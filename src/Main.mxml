<?xml version="1.0"?>
<s:WindowedApplication xmlns:fx="http://ns.adobe.com/mxml/2009" xmlns:s="library://ns.adobe.com/flex/spark"
                       xmlns:rl2="http://ns.robotlegs.org/flex/rl2" xmlns:bundles="bundles.*" xmlns:config="config.*"
                       xmlns:mx="library://ns.adobe.com/flex/mx"
                       backgroundColor="#0"
                       frameRate="60">
    <fx:Declarations>
        <rl2:ContextBuilder>
            <bundles:SimpleViewBundle/>
            <bundles:EventFlowBundle/>
            <bundles:ToolsBundle/>
            <config:ModelConfig/>
            <config:ViewConfig/>
            <config:ServiceConfig/>
            <config:MouseDragConfig/>
            <config:StateMachineConfig/>
        </rl2:ContextBuilder>
        <fx:XML format="e4x" id="myMenuData">
            <root>
                <menuitem label="File">
                    <menuitem id="importImages" label="open"
                              keyEquivalent="o" controlKey="true"/>
                    <menuitem id="closeBook" label="close"
                              keyEquivalent="w" controlKey="true"/>
                    <menuitem id="saveBook" label="save"
                              keyEquivalent="s" controlKey="true"/>
                    <menuitem id="exitApp" label="quit"
                              keyEquivalent="q" controlKey="true"/>

                </menuitem>
                <menuitem label="View">
                    <menuitem id="viewSlideShow" label="view slide show"
                              keyEquivalent="f" controlKey="true"/>
                    <menuitem id="viewEditor" label="view editor"
                              keyEquivalent="e" controlKey="true"/>
                </menuitem>
                <menuitem label="Settings">
                    <menuitem id="editSettings" label="bitmap memory"
                              keyEquivalent="m" controlKey="true"/>
                    <menuitem type="separator"/>
                    <menuitem id="relativeDrag" label="relative drag" type="check" toggled="false"/>
                    <menuitem id="relativeTweenedDrag" label="relative tweened drag" type="check" toggled="true"/>
                    <menuitem id="absoluteDrag" label="absolute drag" type="check" toggled="false"/>
                    <menuitem id="absoluteTweenedDrag" label="absolute tweened drag" type="check" toggled="false"/>
                </menuitem>
            </root>
        </fx:XML>
    </fx:Declarations>

    <s:menu>
        <mx:FlexNativeMenu id="menu"
                           dataProvider="{myMenuData}"
                           labelField="@label"
                           keyEquivalentField="@keyEquivalent"
                           showRoot="false"/>
    </s:menu>
    <mx:ViewStack id="viewStack" width="100%" height="100%"/>
    <s:layout>
        <s:VerticalLayout/>
    </s:layout>
</s:WindowedApplication>